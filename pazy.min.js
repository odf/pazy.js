((function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu=Array.prototype.slice,bv=Object.prototype.hasOwnProperty,bw=function(a,b){function d(){this.constructor=a}for(var c in b)bv.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},bx=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};(bd=Array.prototype).equals||(bd.equals=function(a){var b,c;if(this.length!==a.length)return!1;for(b=0,c=this.length;0<=c?b<c:b>c;0<=c?b++:b--)if(!Q(this[b],a[b]))return!1;return!0}),Q=function(a,b){return typeof (a!=null?a.equals:void 0)=="function"?a.equals(b):typeof (b!=null?b.equals:void 0)=="function"?b.equals(a):a===b},Z=function(a){return typeof a=="number"&&4294967296>a&&a>=0&&a%1===0},S=function(a){var b,c,d,e;if(typeof (a!=null?a.hashCode:void 0)=="function")return a.hashCode();if(Z(a))return a;c=""+a,d=0;for(b=0,e=c.length;0<=e?b<e:b>e;0<=e?b++:b--)d=d*37+c.charCodeAt(b)&4294967295;return d};if(typeof exports=="undefined"||exports===null)exports=(be=this.pazy)!=null?be:this.pazy={};exports.equal=Q,exports.hashCode=S;if(typeof exports=="undefined"||exports===null)exports=(bm=this.pazy)!=null?bm:this.pazy={};exports.suspend=function(a){var b;return b=function(){var c;return c=a(),(b=function(){return c})()},function(){return b()}},exports.bounce=function(a){while(typeof a=="function")a=a();return a},exports.scope=function(a,b){return b.apply(null,a)},typeof require!="undefined"?(Q=require("core_extensions").equal,L=require("functional").bounce):(bn=this.pazy,Q=bn.equal,L=bn.bounce),C=function(){function a(a,b){this.first=a,this.rest=b}return a}(),ba=function(a,b){return b>=a.length||a[b]!==void 0?R(a,b):function(){return ba(a,b+1)}},R=function(a,b){return b>=a.length?null:a[b]===void 0?L(ba(a,b)):$.conj(a[b],function(){return R(a,b+1)})},$=function(a){if(a==null)return null;if(a.constructor===C)return a;if(typeof a.toSeq=="function")return a.toSeq();if(typeof a.length=="number")return R(a,0);if(typeof a.first=="function"&&typeof a.rest=="function")return a;throw new Error("cannot make a sequence from "+a)},$.conj=function(a,b,c){var d;return b==null?new C(function(){return a},function(){return null}):c==="forced"?(d=b(),new C(function(){return a},function(){return d})):new C(function(){return a},function(){var a;return a=b(),(this.rest=function(){return a})()})},$.from=function(a){var b=this;return $.conj(a,function(){return $.from(a+1)})},$.range=function(a,b){return $.take__($.from(a),b-a+1)},$.constant=function(a){var b=this;return $.conj(a,function(){return $.constant(a)})},$.memo=U=function(a,b){return $[a]=function(a){return b.call($,$(a))},$[""+a+"__"]=function(a){return b.call($,a)},C.prototype[a]=function(){var c;return c=b.call($,this),(this[a]=function(){return c})()}},$.method=V=function(a,b){return $[a]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?bu.call(arguments,1):[],b.call.apply(b,[$,$(c)].concat(bu.call(a)))},$[""+a+"__"]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?bu.call(arguments,1):[],b.call.apply(b,[$,c].concat(bu.call(a)))},C.prototype[a]=function(){var a;return a=1<=arguments.length?bu.call(arguments,0):[],b.call.apply(b,[$,this].concat(bu.call(a)))}},$.combinator=P=function(a,b){var c;return c=""+a+"__",$[c]=function(a){return b.call($,a)},$[a]=function(){var a;return a=1<=arguments.length?bu.call(arguments,0):[],$[c]($.map(a,$))},C.prototype[a]=function(){var b;return b=1<=arguments.length?bu.call(arguments,0):[],$[a].apply($,[this].concat(bu.call(b)))}},V("empty",function(a){return a==null}),U("size",function(a){var b;return b=function(a,c){return a?function(){return b(a.rest(),c+1)}:c},L(b(a,0))}),U("last",function(a){var b;b=function(a){return a.rest()?function(){return b(a.rest())}:a.first()};if(a)return L(b(a))}),V("take",function(a,b){var c=this;return a&&b>0?this.conj(a.first(),function(){return c.take__(a.rest(),b-1)}):null}),V("takeWhile",function(a,b){var c=this;return a&&b(a.first())?this.conj(a.first(),function(){return c.takeWhile__(a.rest(),b)}):null}),V("drop",function(a,b){var c;return c=function(a,b){return a&&b>0?function(){return c(a.rest(),b-1)}:a},a?L(c(a,b)):null}),V("dropWhile",function(a,b){var c;return c=function(a){return a&&b(a.first())?function(){return c(a.rest())}:a},a?L(c(a)):null}),V("get",function(a,b){var c;if(b>=0)return(c=this.drop__(a,b))!=null?c.first():void 0}),V("select",function(a,b){var c=this;return a&&b(a.first())?this.conj(a.first(),function(){return c.select__(a.rest(),b)}):(a!=null?a.rest():void 0)?this.select__(this.dropWhile__(a.rest(),function(a){return!b(a)}),b):null}),V("find",function(a,b){var c;return(c=this.select__(a,b))!=null?c.first():void 0}),V("forall",function(a,b){return!this.select__(a,function(a){return!b(a)})}),V("map",function(a,b){var c=this;return a?this.conj(b(a.first()),function(){return c.map__(a.rest(),b)}):null}),V("accumulate",function(a,b,c){var d,e=this;return a?(d=c(b,a.first()),this.conj(d,function(){return e.accumulate__(a.rest(),d,c)})):null}),V("sums",function(a){return this.accumulate__(a,0,function(a,b){return a+b})}),V("products",function(a){return this.accumulate__(a,1,function(a,b){return a*b})}),V("reduce",function(a,b,c){var d;return d=function(a,b){return a?function(){return d(a.rest(),c(b,a.first()))}:b},L(d(a,b))}),V("sum",function(a){return this.reduce__(a,0,function(a,b){return a+b})}),V("product",function(a){return this.reduce__(a,1,function(a,b){return a*b})}),V("fold",function(a,b){return this.reduce__(a!=null?a.rest():void 0,a!=null?a.first():void 0,b)}),V("max",function(a){return this.fold__(a,function(a,b){return b>a?b:a})}),V("min",function(a){return this.fold__(a,function(a,b){return b<a?b:a})}),P("zip",function(a){var b;return b=a!=null?a.map(function(a){return a!=null?a.first():null}):void 0,$.find(b,function(a){return a!=null})!=null?$.conj(b,function(){return $.zip__($.map(a,function(a){return a!=null?a.rest():void 0}))}):null}),$.combine=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?bu.call(arguments,1):[],(c=$.zip.apply($,a))!=null?c.map(function(a){return $.fold(a,b)}):void 0},C.prototype.combine=function(){var a,b;return b=arguments[0],a=2<=arguments.length?bu.call(arguments,1):[],$.combine.apply($,[b,this].concat(bu.call(a)))},V("add",function(){var a,b;return b=arguments[0],a=2<=arguments.length?bu.call(arguments,1):[],$.combine.apply($,[function(a,b){return a+b},b].concat(bu.call(a)))}),V("sub",function(){var a,b;return b=arguments[0],a=2<=arguments.length?bu.call(arguments,1):[],$.combine.apply($,[function(a,b){return a-b},b].concat(bu.call(a)))}),V("mul",function(){var a,b;return b=arguments[0],a=2<=arguments.length?bu.call(arguments,1):[],$.combine.apply($,[function(a,b){return a*b},b].concat(bu.call(a)))}),V("div",function(){var a,b;return b=arguments[0],a=2<=arguments.length?bu.call(arguments,1):[],$.combine.apply($,[function(a,b){return a/b},b].concat(bu.call(a)))}),V("equals",function(){var a,b;return b=arguments[0],a=2<=arguments.length?bu.call(arguments,1):[],this.forall__($.zip.apply($,[b].concat(bu.call(a))),function(a){var b;return b=a!=null?a.first():void 0,$.forall__(a!=null?a.rest():void 0,function(a){return Q(b,a)})})}),V("lazyConcat",function(a,b){var c=this;return a?this.conj(a.first(),function(){return c.lazyConcat(a.rest(),b)}):$(b())}),P("concat",function(a){var b=this;return a?this.lazyConcat(a.first(),function(){return b.concat__(a.rest())}):null}),P("interleave",function(a){var b,c,d=this;return c=a!=null?a.select(function(a){return a!=null}):void 0,c!=null?(b=c.map(function(a){return a.first()}),this.lazyConcat(b,function(){return d.interleave__(c.map(function(a){return a.rest()}))})):null}),V("flatten",function(a){var b=this;return a&&$(a.first())?this.lazyConcat($(a.first()),function(){return b.flatten__(a.rest())}):(a!=null?a.rest():void 0)?this.flatten__(this.dropWhile__(a.rest(),function(a){return!$(a)})):null}),V("flatMap",function(a,b){return this.flatten__(this.map__(a,b))}),P("cartesian",function(a){var b=this;return a?a.rest()?this.flatMap__(a.first(),function(c){var d;return(d=b.cartesian__(a.rest()))!=null?d.map(function(a){return b.conj(c,function(){return a})}):void 0}):a.first().map($.conj):null}),N=function(a,b,c){var d,e;return c?(d=$.conj(c.first(),function(){return b}),e=a.zip(d).takeWhile(function(a){return a!=null?a.get(1):void 0}).flatMap(function(a){var b;return b=a.first(),a.get(1).map(function(a){return $.conj(b,function(){return a})})}),$.conj(e,function(){return N(a,d,c.rest())})):null},O=function(a){return a?a.rest()?N(a.first(),null,O(a.rest())):a.first().map(function(a){return $.conj($.conj(a))}):null},P("cantor",function(a){var b;return(b=O(a))!=null?b.flatten():void 0}),V("subseqs",function(a){var b=this;return a?this.conj(a,function(){return b.subseqs__(a.rest())}):null}),V("each",function(a,b){var c;return c=function(a){if(a)return b(a.first()),function(){return c(a.rest())}},L(c(a))}),V("reverse",function(a){var b,c=this;return b=function(a,d){return d?function(){return b(c.conj(d.first(),function(){return a}),d.rest())}:a},L(b(null,a))}),V("forced",function(a){var b=this;return a?this.conj(a.first(),function(){return b.forced__(a.rest())},"forced"):null}),V("into",function(a,b){var c,d;if(b==null)return a;if(typeof b.plus=="function")return this.reduce__(a,b,function(a,b){return a.plus(b)});if(typeof b.length=="number")return c=function(){var a,c,e;e=[];for(a=0,c=b.length;a<c;a++)d=b[a],e.push(d);return e}(),this.each__(a,function(a){return c.push(a)}),c;throw new Error("cannot inject into #{target}")}),V("join",function(a,b){return this.into__(a,[]).join(b)}),V("toString",function(a,b){var c,d,e;return b==null&&(b=10),e=b>0?[this.take__(a,b),this.get__(a,b)!=null]:[a,!1],d=e[0],c=e[1],"("+this.join__(d,", ")+(c?", ...)":")")});if(typeof exports=="undefined"||exports===null)exports=(bo=this.pazy)!=null?bo:this.pazy={};exports.seq=$,typeof module!="undefined"&&module!==null&&!module.parent&&(Y=$.from(1),console.log(""+Y.cantor(Y,Y).take(10))),typeof require!="undefined"?(bp=require("core_extensions"),Q=bp.equal,S=bp.hashCode,$=require("sequence").seq):(bq=this.pazy,Q=bq.equal,S=bq.hashCode,$=bq.seq),bc={arrayWith:function(a,b,c){var d,e,f;f=[];for(d=0,e=a.length;0<=e?d<e:d>e;0<=e?d++:d--)f.push(d===b?c:a[d]);return f},arrayWithInsertion:function(a,b,c){var d,e,f;f=[];for(d=0,e=a.length;0<=e?d<=e:d>=e;0<=e?d++:d--)f.push(d<b?a[d]:d>b?a[d-1]:c);return f},arrayWithout:function(a,b){var c,d,e;e=[];for(c=0,d=a.length;0<=d?c<d:c>d;0<=d?c++:c--)c!==b&&e.push(a[c]);return e},isKey:function(a){return typeof a=="number"&&4294967296>a&&a>=0&&a%1===0},mask:function(a,b){return a>>27-b&31},bitCount:function(a){return a-=a>>1&1431655765,a=(a&858993459)+(a>>2&858993459),a=(a&252645135)+(a>>4&252645135),a+=a>>8,a+(a>>16)&63},indexForBit:function(a,b){return bc.bitCount(a&b-1)},bitPosAndIndex:function(a,b,c){var d;return d=1<<bc.mask(b,c),[d,bc.indexForBit(a,d)]}},k={size:0,get:function(a,b,c){return},elements:null,plus:function(a,b,c){return c},minus:function(a,b,c){return this},toString:function(){return"EmptyNode"}},d=function(){function b(a,b,c){var d;d=arguments.length===0?[0,[],0]:[a,b,c],this.bitmap=d[0],this.progeny=d[1],this.size=d[2],this.elements=$.flatMap(this.progeny,function(a){return a!=null?a.elements:void 0})}return b.prototype.get=function(a,b,c){var d,e,f;f=bc.bitPosAndIndex(this.bitmap,b,a),d=f[0],e=f[1];if((this.bitmap&d)!==0)return this.progeny[e].get(a+5,b,c)},b.prototype.plus=function(c,d,e){var f,g,h,i,j,k,l,m,n,o,p;return p=bc.bitPosAndIndex(this.bitmap,d,c),h=p[0],i=p[1],(this.bitmap&h)===0?(k=bc.bitCount(this.bitmap),k<8?(l=bc.arrayWithInsertion(this.progeny,i,e),new b(this.bitmap|h,l,this.size+1)):(n=function(){var a;a=[];for(j=0;j<=31;j++)g=1<<j,(this.bitmap&g)!==0?a.push(this.progeny[bc.indexForBit(this.bitmap,g)]):a.push(void 0);return a}.call(this),new a(n,bc.mask(d,c),e,this.size+1))):(o=this.progeny[i],m=o.plus(c+5,d,e),this.bitmap===1<<i?new A(i,m):(f=bc.arrayWith(this.progeny,i,m),new b(this.bitmap,f,this.size+m.size-o.size)))},b.prototype.minus=function(a,c,d){var e,f,g,h,i,j,k,l,m;return m=bc.bitPosAndIndex(this.bitmap,c,a),e=m[0],g=m[1],l=this.progeny[g],k=l.minus(a+5,c,d),k!=null?(i=this.bitmap,j=this.size+k.size-l.size,h=bc.arrayWith(this.progeny,g,k)):(i=this.bitmap^e,j=this.size-1,h=bc.arrayWithout(this.progeny,g)),f=bc.bitCount(i),f===0?null:f===1?(k=h[0],k.progeny!=null?new A(bc.bitCount(i-1),k):k):new b(i,h,j)},b.prototype.toString=function(a){var b,c,d,e;a==null&&(a=""),e=a+" ",c=[];for(d=0;d<=31;d++)b=1<<d,(this.bitmap&b)!==0&&c.push(this.progeny[bc.indexForBit(this.bitmap,b)].toString(e));return c.length===1?"{"+c[0]+"}":(c.unshift(""),"{"+c.join("\n"+e)+"}")},b}(),A=function(){function a(a,b){this.child_index=a,this.progeny=b,this.size=this.progeny.size,this.elements=this.progeny.elements}return a.prototype.get=function(a,b,c){if(this.child_index===bc.mask(b,a))return this.progeny.get(a+5,b,c)},a.prototype.plus=function(b,c,e){var f,g,h;return h=bc.mask(c,b),this.child_index===h?new a(h,this.progeny.plus(b+5,c,e)):(g=1<<this.child_index|1<<h,f=h<this.child_index?[e,this.progeny]:[this.progeny,e],new d(g,f,this.size+e.size))},a.prototype.minus=function(b,c,d){var e;return e=this.progeny.minus(b+5,c,d),(e!=null?e.progeny:void 0)!=null?new a(this.child_index,e):e},a.prototype.toString=function(a){return a==null&&(a=""),"."+this.progeny.toString(a+" ")},a}(),a=function(){function a(a,b,c,d){this.size=d,this.progeny=bc.arrayWith(a,b,c),this.elements=$.flatMap(this.progeny,function(a){return a!=null?a.elements:void 0})}return a.prototype.get=function(a,b,c){var d;d=bc.mask(b,a);if(this.progeny[d]!=null)return this.progeny[d].get(a+5,b,c)},a.prototype.plus=function(b,c,d){var e,f,g;return e=bc.mask(c,b),this.progeny[e]!=null?(g=this.progeny[e].plus(b+5,c,d),f=this.size+g.size-this.progeny[e].size,new a(this.progeny,e,g,f)):new a(this.progeny,e,d,this.size+1)},a.prototype.minus=function(b,c,e){var f,g,h,i,j,k;return h=bc.mask(c,b),j=this.progeny[h].minus(b+5,c,e),j!=null?new a(this.progeny,h,j,this.size-1):(k=function(){var a,b;b=[];for(i=0,a=this.progeny.length;0<=a?i<a:i>a;0<=a?i++:i--)i!==h&&this.progeny[i]&&b.push(i);return b}.call(this),k.length<=4?(g=$.reduce(k,0,function(a,b){return a|1<<b}),f=function(){var a,b,c;c=[];for(a=0,b=k.length;a<b;a++)i=k[a],c.push(this.progeny[i]);return c}.call(this),new d(g,f,this.size-1)):new a(this.progeny,h,null,this.size-1))},a.prototype.toString=function(a){var b,c,d;return a==null&&(a=""),c=a+" ",b=function(){var a,b,e,f;e=this.progeny,f=[];for(a=0,b=e.length;a<b;a++)d=e[a],d!=null&&f.push(d.toString(c));return f}.call(this),b.length===1?"["+b[0]+"]":(b.unshift(""),"["+b.join("\n"+c)+"]")},a}(),f=function(){function a(a){var b;this.root=a,this.root==null&&(this.root=k),this.entries=(b=this.root)!=null?b.elements:void 0}return a.prototype.size=function(){return this.root.size},a.prototype.each=function(a){var b;return a!=null?(b=this.entries)!=null?b.each(a):void 0:this},a.prototype.update_=function(a){return a!==this.root?new this.constructor(a):this},a.prototype.plus=function(){return this.plusAll(arguments)},a.prototype.plusAll=function(a){return this.update_($.reduce(a,this.root,this.constructor.plusOne))},a.prototype.minus=function(){return this.minusAll(arguments)},a.prototype.minusAll=function(a){return this.update_($.reduce(a,this.root,this.constructor.minusOne))},a.prototype.map=function(a){return(new this.constructor).plusAll($.map(this.entries,a))},a.prototype.toSeq=function(){return this.entries},a.prototype.toArray=function(){return $.into(this.entries,[])},a.prototype.toString=function(){return""+this.constructor.name+"("+this.root+")"},a}(),s=function(){function a(a){this.key=a,this.elements=$.conj(this.key)}return a.prototype.size=1,a.prototype.get=function(a,b,c){return b===this.key},a.prototype.plus=function(a,b,c){return(new d).plus(a,this.key,this).plus(a,b,c)},a.prototype.minus=function(a,b,c){return null},a.prototype.toString=function(){return""+this.key},a}(),v=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return bw(b,a),b.name="IntSet",b.prototype.contains=function(a){return this.root.get(0,a)===!0},b.plusOne=function(a,b){return bc.isKey(b)&&!a.get(0,b)?a.plus(0,b,new s(b)):a},b.minusOne=function(a,b){return bc.isKey(b)&&(a!=null?a.get(0,b):void 0)?a.minus(0,b):a},b}(f),t=function(){function a(a,b){this.key=a,this.value=b,this.elements=$.conj([this.key,this.value])}return a.prototype.size=1,a.prototype.get=function(a,b,c){if(b===this.key)return this.value},a.prototype.plus=function(a,b,c){return this.key===b?c:(new d).plus(a,this.key,this).plus(a,b,c)},a.prototype.minus=function(a,b,c){return null},a.prototype.toString=function(){return""+this.key+" ~> "+this.value},a}(),u=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return bw(b,a),b.name="IntMap",b.prototype.get=function(a){return this.root.get(0,a)},b.plusOne=function(a,b){var c,d;return c=b[0],d=b[1],bc.isKey(c)&&a.get(0,c)!==d?a.plus(0,c,new t(c,d)):a},b.minusOne=function(a,b){return bc.isKey(b)&&typeof (a!=null?a.get(0,b):void 0)!="undefined"?a.minus(0,b):a},b}(f),g=function(){function a(a,b){this.hash=a,this.bucket=b,this.bucket==null&&(this.bucket=[]),this.size=this.bucket.length,this.elements=$.flatMap(this.bucket,function(a){return a!=null?a.elements:void 0})}return a.prototype.get=function(a,b,c){var d;d=$.find(this.bucket,function(a){return Q(a.key,c)});if(d!=null)return d.get(a,b,c)},a.prototype.plus=function(b,c,e){var f;return c!==this.hash?(new d).plus(b,this.hash,this).plus(b,c,e):(f=this.bucketWithout(e.key),f.push(e),new a(c,f))},a.prototype.minus=function(b,c,d){switch(this.bucket.length){case 0:case 1:return null;case 2:return $.find(this.bucket,function(a){return!Q(a.key,d)});default:return new a(c,this.bucketWithout(d))}},a.prototype.toString=function(){return""+this.bucket.join("|")},a.prototype.bucketWithout=function(a){var b,c,d,e,f;e=this.bucket,f=[];for(c=0,d=e.length;c<d;c++)b=e[c],Q(b.key,a)||f.push(b);return f},a}(),o=function(){function a(a,b){this.hash=a,this.key=b,this.elements=$.conj(this.key)}return a.prototype.size=1,a.prototype.get=function(a,b,c){if(Q(c,this.key))return!0},a.prototype.plus=function(a,b,c){var e;return b===this.hash?e=new g(b):e=new d,e.plus(a,this.hash,this).plus(a,b,c)},a.prototype.minus=function(a,b,c){return null},a.prototype.toString=function(){return""+this.key},a}(),r=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return bw(b,a),b.name="HashSet",b.prototype.contains=function(a){return this.root.get(0,S(a),a)===!0},b.plusOne=function(a,b){var c;return c=S(b),a.get(0,c,b)?a:a.plus(0,c,new o(c,b))},b.minusOne=function(a,b){var c;return c=S(b),(a!=null?a.get(0,c,b):void 0)?a.minus(0,c,b):a},b}(f),p=function(){function a(a,b,c){this.hash=a,this.key=b,this.value=c,this.elements=$.conj([this.key,this.value])}return a.prototype.size=1,a.prototype.get=function(a,b,c){if(Q(c,this.key))return this.value},a.prototype.plus=function(a,b,c){var e;return Q(this.key,c.key)?c:(b===this.hash?e=new g(b):e=new d,e.plus(a,this.hash,this).plus(a,b,c))},a.prototype.minus=function(a,b,c){return null},a.prototype.toString=function(){return""+this.key+" ~> "+this.value},a}(),q=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return bw(b,a),b.name="HashMap",b.prototype.get=function(a){return this.root.get(0,S(a),a)},b.plusOne=function(a,b){var c,d,e;return d=b[0],e=b[1],c=S(d),a.get(0,c,d)===e?a:a.plus(0,c,new p(c,d,e))},b.minusOne=function(a,b){var c;return c=S(b),typeof (a!=null?a.get(0,c,b):void 0)!="undefined"?a.minus(0,c,b):a},b}(f);if(typeof exports=="undefined"||exports===null)exports=(br=this.pazy)!=null?br:this.pazy={};exports.IntSet=v,exports.IntMap=u,exports.HashMap=q,exports.HashSet=r,typeof require!="undefined"?($=require("sequence").seq,r=require("indexed").HashSet):(bs=this.pazy,$=bs.seq,r=bs.HashSet),$.method("uniq",function(a,b){var c,d=this;return b==null&&(b=new r),a?(c=a.first(),b.contains(c)?this.uniq__(a.rest(),b):$.conj(c,function(){return d.uniq__(a.rest(),b.plus(c))})):null}),typeof require!="undefined"?($=require("sequence").seq,bt=require("functional"),L=bt.bounce,bb=bt.suspend):($=pazy.seq,L=pazy.bounce,bb=pazy.suspend),H=function(){function a(){}return a}(),j=function(){function a(){}return a.prototype.after=function(a){return a===void 0?this:new this.constructor(this.data.after(a))},a.prototype.before=function(a){return a===void 0?this:new this.constructor(this.data.before(a))},a.prototype.concat=function(a){return a==null?this:new this.constructor(this.data.concat(a.data))},a.prototype.reverse=function(){return new this.constructor(this.data.reverse())},a.prototype.plus=a.prototype.before,a}(),l=function(){function a(a,b){var c,d,e,f,g,h,i,k,l,m,n,o,p,q,r;b==null&&(b=j),this.build=function(){return $.reduce(arguments,n,function(a,b){return a.plus(b)})},r=function(b){var c;return b===h||(c=b.constructor,bx.call(o,c)>=0)?b.measure():a.single(b)},p=function(){return $.reduce(arguments,a.empty,function(b,c){return c!=null?a.sum(b,r(c)):b})},q=function(a){var b;return(b=a!=null?a.constructor:void 0)===k||b===l?a.reverse():a},i=function(b){function c(a){this.data=a}return bw(c,b),c.prototype.empty=function(){return n},c.prototype.isEmpty=function(){return this.data.isEmpty()},c.prototype.reduceLeft=function(a,b){return this.data.reduceLeft(a,b)},c.prototype.reduceRight=function(a,b){return this.data.reduceRight(a,b)},c.prototype.first=function(){return this.data.first()},c.prototype.last=function(){return this.data.last()},c.prototype.rest=function(){return new c(this.data.rest())},c.prototype.init=function(){return new c(this.data.init())},c.prototype.measure=function(){return this.data.measure()},c.prototype.split=function(b){var d,e,f,g;return this.data!==h&&b(p(this.data))?(g=this.data.split(b,a.empty),d=g[0],f=g[1],e=g[2],[new c(d),f,new c(e)]):[this,void 0,new c(h)]},c.prototype.takeUntil=function(a){return this.split(a)[0]},c.prototype.dropUntil=function(a){var b,d,e,f;return f=this.split(a),b=f[0],e=f[1],d=f[2],e===void 0?d:new c(d.data.after(e))},c.prototype.find=function(a){return this.split(a)[1]},c.prototype.toSeq=function(){return this.data.reduceRight(function(a,b){return $.conj(a,function(){return b})},null)},c.prototype.toString=function(){return this.data.reduceLeft("",function(a,b){return a+" "+b})},c}(b),k=function(){function a(a,b){this.a=a,this.b=b,this.v=p(this.a,this.b)}return a.prototype.reduceLeft=function(a,b){return b(b(a,this.a),this.b)},a.prototype.reduceRight=function(a,b){return a(this.a,a(this.b,b))},a.prototype.asDigit=function(){return new e(this.a,this.b)},a.prototype.measure=function(){return this.v},a.prototype.reverse=function(){return new a(q(this.b),q(this.a))},a}(),l=function(){function a(a,b,c){this.a=a,this.b=b,this.c=c,this.v=p(this.a,this.b,this.c)}return a.prototype.reduceLeft=function(a,b){return b(b(b(a,this.a),this.b),this.c)},a.prototype.reduceRight=function(a,b){return a(this.a,a(this.b,a(this.c,b)))},a.prototype.asDigit=function(){return new f(this.a,this.b,this.c)},a.prototype.measure=function(){return this.v},a.prototype.reverse=function(){return new a(q(this.c),q(this.b),q(this.a))},a}(),d=function(){function a(a){this.a=a}return a.prototype.reduceLeft=function(a,b){return b(a,this.a)},a.prototype.reduceRight=function(a,b){return a(this.a,b)},a.prototype.after=function(a){return new e(a,this.a)},a.prototype.before=function(a){return new e(this.a,a)},a.prototype.first=function(){return this.a},a.prototype.last=function(){return this.a},a.prototype.rest=function(){return h},a.prototype.init=function(){return h},a.prototype.measure=function(){return p(this.a)},a.prototype.split=function(a,b){return[h,this.a,h]},a.prototype.reverse=function(){return new a(q(this.a))},a}(),e=function(){function b(a,b){this.a=a,this.b=b}return b.prototype.reduceLeft=function(a,b){return b(b(a,this.a),this.b)},b.prototype.reduceRight=function(a,b){return a(this.a,a(this.b,b))},b.prototype.after=function(a){return new f(a,this.a,this.b)},b.prototype.before=function(a){return new f(this.a,this.b,a)},b.prototype.first=function(){return this.a},b.prototype.last=function(){return this.b},b.prototype.rest=function(){return new d(this.b)},b.prototype.init=function(){return new d(this.a)},b.prototype.asNode=function(){return new k(this.a,this.b)},b.prototype.measure=function(){return p(this.a,this.b)},b.prototype.split=function(b,c){return b(a.sum(c,p(this.a)))?[h,this.a,new d(this.b)]:[new d(this.a),this.b,h]},b.prototype.reverse=function(){return new b(q(this.b),q(this.a))},b}(),f=function(){function b(a,b,c){this.a=a,this.b=b,this.c=c}return b.prototype.reduceLeft=function(a,b){return b(b(b(a,this.a),this.b),this.c)},b.prototype.reduceRight=function(a,b){return a(this.a,a(this.b,a(this.c,b)))},b.prototype.after=function(a){return new g(a,this.a,this.b,this.c)},b.prototype.before=function(a){return new g(this.a,this.b,this.c,a)},b.prototype.first=function(){return this.a},b.prototype.last=function(){return this.c},b.prototype.rest=function(){return new e(this.b,this.c)},b.prototype.init=function(){return new e(this.a,this.b)},b.prototype.asNode=function(){return new l(this.a,this.b,this.c)},b.prototype.measure=function(){return p(this.a,this.b,this.c)},b.prototype.split=function(b,c){var f;return f=a.sum(c,p(this.a)),b(f)?[h,this.a,new e(this.b,this.c)]:b(a.sum(f,p(this.b)))?[new d(this.a),this.b,new d(this.c)]:[new e(this.a,this.b),this.c,h]},b.prototype.reverse=function(){return new b(q(this.c),q(this.b),q(this.a))},b}(),g=function(){function b(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}return b.prototype.reduceLeft=function(a,b){return b(b(b(b(a,this.a),this.b),this.c),this.d)},b.prototype.reduceRight=function(a,b){return a(this.a,a(this.b,a(this.c,a(this.d,b))))},b.prototype.first=function(){return this.a},b.prototype.last=function(){return this.d},b.prototype.rest=function(){return new f(this.b,this.c,this.d)},b.prototype.init=function(){return new f(this.a,this.b,this.c)},b.prototype.measure=function(){return p(this.a,this.b,this.c,this.d)},b.prototype.split=function(b,c){var g,i;return g=a.sum(c,p(this.a)),b(g)?[h,this.a,new f(this.b,this.c,this.d)]:(i=a.sum(g,p(this.b)),b(i)?[new d(this.a),this.b,new e(this.c,this.d)]:b(a.sum(i,p(this.c)))?[new e(this.a,this.b),this.c,new d(this.d)]:[new f(this.a,this.b,this.c),this.d,h])},b.prototype.reverse=function(){return new b(q(this.d),q(this.c),q(this.b),q(this.a))},b}(),h={isEmpty:function(){return!0},reduceLeft:function(a,b){return a},reduceRight:function(a,b){return b},after:function(a){return new m(a)},before:function(a){return new m(a)},first:function(){},last:function(){},rest:function(){},init:function(){},concat:function(a){return a},measure:function(){return p()},reverse:function(){return this}},n=new i(h),m=function(){function a(a){this.a=a}return a.prototype.isEmpty=function(){return!1},a.prototype.reduceLeft=function(a,b){return b(a,this.a)},a.prototype.reduceRight=function(a,b){return a(this.a,b)},a.prototype.after=function(a){return new c(new d(a),function(){return h},new d(this.a))},a.prototype.before=function(a){return new c(new d(this.a),function(){return h},new d(a))},a.prototype.first=function(){return this.a},a.prototype.last=function(){return this.a},a.prototype.rest=function(){return h},a.prototype.init=function(){return h},a.prototype.concat=function(a){return a.after(this.a)},a.prototype.measure=function(){return p(this.a)},a.prototype.split=function(a,b){return[h,this.a,h]},a.prototype.reverse=function(){return this},a}(),c=function(){function q(a,b,c){this.l=a,this.m=b,this.r=c}var b,c,d,f,i,j,n,o;return n=function(a){return function(b,c){return c.reduceLeft(b,a)}},o=function(a){return function(b,c){return b.reduceRight(a,c)}},d=function(a){return a.reduceLeft(h,function(a,b){return a.before(b)})},c=function(a){return a.reduceRight(function(a,b){return $.conj(a,function(){return b})},null)},q.prototype.isEmpty=function(){return!1},q.prototype.measure=function(){var a;return a=p(this.l,this.m(),this.r),(this.measure=function(){return a})()},q.prototype.reduceLeft=function(a,b){var c,d;return c=n(b),d=n(c),c(d(c(a,this.l),this.m()),this.r)},q.prototype.reduceRight=function(a,b){var c,d;return c=o(a),d=o(c),c(this.l,d(this.m(),c(this.r,b)))},q.prototype.after=function(a){var b,c,d,f,h,i,j=this;return this.l.constructor===g?(i=this.l,b=i.a,c=i.b,d=i.c,f=i.d,h=new e(a,b),new q(h,bb(function(){return j.m().after(new l(c,d,f))}),this.r)):new q(this.l.after(a),this.m,this.r)},q.prototype.before=function(a){var b,c,d,f,h,i,j=this;return this.r.constructor===g?(i=this.r,b=i.a,c=i.b,d=i.c,f=i.d,h=new e(f,a),new q(this.l,bb(function(){return j.m().before(new l(b,c,d))}),h)):new q(this.l,this.m,this.r.before(a))},q.prototype.first=function(){return this.l.first()},q.prototype.last=function(){return this.r.last()},f=function(a,b,c){var e=this;return a===h?b()===h?d(c):new q(b().first().asDigit(),bb(function(){return b().rest()}),c):new q(a,b,c)},i=function(a,b,c){var e=this;return c===h?b()===h?d(a):new q(a,bb(function(){return b().init()}),b().last().asDigit()):new q(a,b,c)},q.prototype.rest=function(){var a=this;return f(this.l.rest(),bb(function(){return a.m()}),this.r)},q.prototype.init=function(){var a=this;return i(this.l,bb(function(){return a.m()}),this.r.init())},j=function(a,b){if(a===0)return null;if(a===1||a<0)throw new Error("this should not happen");return a===2||a%3===1?$.conj(function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return typeof e=="object"?e:d}(k,b.take(2).into([]),function(){}),function(){return j(a-2,b.drop(2))}):$.conj(function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return typeof e=="object"?e:d}(l,b.take(3).into([]),function(){}),function(){return j(a-3,b.drop(3))})},b=function(a,d,e){var f;return a===h?$.reduce($.reverse(d),e,function(a,b){return a.after(b)}):e===h?$.reduce(d,a,function(a,b){return a.before(b)}):a.constructor===m?b(h,d,e).after(a.a):e.constructor===m?b(a,d,h).before(e.a):(f=$.flatten([c(a.r),d,c(e.l)]),Y=j(f.size(),f),new q(a.l,bb(function(){return b(a.m(),Y,e.m())}),e.r))},q.prototype.concat=function(a){return b(this,null,a)},q.prototype.split=function(b,c){var e,g,h,j,k,l,m,n,o,q,r,s,t=this;return e=a.sum(c,p(this.l)),b(e)?(o=this.l.split(b,c),h=o[0],m=o[1],l=o[2],[d(h),m,f(l,bb(function(){return t.m()}),this.r)]):(g=a.sum(e,p(this.m())),b(g)?(q=this.m().split(b,e),j=q[0],n=q[1],k=q[2],r=n.asDigit().split(b,a.sum(e,p(j))),h=r[0],m=r[1],l=r[2],[i(this.l,function(){return j},h),m,f(l,function(){return k},this.r)]):(s=this.r.split(b,g),h=s[0],m=s[1],l=s[2],[i(this.l,bb(function(){return t.m()}),h),m,d(l)]))},q.prototype.reverse=function(){var a=this;return new q(this.r.reverse(),bb(function(){return a.m().reverse()}),this.l.reverse())},q}(),o=[k,l,d,e,f,g,m,c]}return a}(),D={empty:0,single:function(a){return 1},sum:function(a,b){return a+b}},h=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return bw(b,a),b.prototype.size=function(){return this.measure()},b.prototype.get=function(a){return this.find(function(b){return b>a})},b.prototype.splitAt=function(a){var b,c,d,e;return e=this.split(function(b){return b>a}),b=e[0],d=e[1],c=e[2],[b,c.after(d)]},b}(j),i=new l(D,h),y={empty:void 0,single:function(a){return a},sum:function(a,b){return b!=null?b:a}},E=function(a,b){return function(b){function h(){h.__super__.constructor.apply(this,arguments)}var c,d,e,f,g;return bw(h,b),c=function(a,b){return b===void 0?a:new a.constructor(a.data.after(b))},d=function(a,b){return b===void 0?a:new a.constructor(a.data.before(b))},e=function(a,b){return new a.constructor(a.data.concat(b.data))},h.prototype.partition=function(b){var d,e,f,g;return g=this.split(function(c){return!a(c,b)}),d=g[0],f=g[1],e=g[2],[d,c(e,f)]},h.prototype.insert=function(a){var b,d,f;return f=this.partition(a),b=f[0],d=f[1],e(b,c(d,a))},h.prototype.deleteAll=function(b){var c,d,f;return f=this.partition(b),c=f[0],d=f[1],e(c,d.dropUntil(function(c){return a(b,c)}))},g=function(b,f,h){var i,j,k,l,m;return h.isEmpty()?e(b,f):(i=h.first(),m=f.split(function(b){return a(i,b)}),j=m[0],l=m[1],k=m[2],function(){var a;return a=e(b,d(j,i)),g(a,h.rest(),c(k,l))})},h.prototype.merge=function(a){return L(g(this.empty(),this,a))},f=function(b,e,g){var h,i,j,k,l;return g.isEmpty()?b:(h=g.first(),l=e.split(function(b){return!a(b,h)}),i=l[0],k=l[1],j=l[2],a(h,k)?function(){return f(b,g.rest(),c(j,k))}:function(){return f(d(b,k),g.rest(),j)})},h.prototype.intersect=function(a){return L(f(this.empty(),this,a))},h.prototype.plus=h.prototype.insert,h}(b)},F=function(a){function b(a,c){a==null&&(a=function(a,b){return a<b}),c==null&&(c=H),b.__super__.constructor.call(this,y,E(a,c))}return bw(b,a),b}(l);if(typeof exports=="undefined"||exports===null)exports=(bf=this.pazy)!=null?bf:this.pazy={};exports.FingerTreeType=l,exports.CountedSeq=i,exports.SortedSeqType=F,exports.SortedSeq=new F,typeof require!="undefined"?(L=require("functional").bounce,q=require("indexed").HashMap):(bg=this.pazy,L=bg.bounce,q=bg.HashMap),z=function(){function b(){this.rank=new q,this.parent=new q}var a;return a=function(a,c){var d;return d=new b,d.rank=a,d.parent=c,d},b.prototype.find=function(a){var b,c,d,e=this;return this.parent.get(a)==null?(this.parent=this.parent.plus([a,a]),this.rank=this.rank.plus([a,0]),a):(d=function(a){var b;return b=e.parent.get(a),b===a?b:function(){return d(b)}},c=L(d(a)),b=function(a){var d;d=e.parent.get(a),e.parent=e.parent.plus([a,c]);if(d!==a)return function(){return b(d)}},L(b(a)),c)},b.prototype.union=function(b,c){var d,e,f,g;return e=this.find(b),g=this.find(c),e===g?this:(d=this.rank.get(e),f=this.rank.get(g),d<f?a(this.rank,this.parent.plus([e,g])):d>f?a(this.rank,this.parent.plus([g,e])):a(this.rank.plus([e,d+1]),this.parent.plus([g,e])))},b}();if(typeof exports=="undefined"||exports===null)exports=(bh=this.pazy)!=null?bh:this.pazy={};exports.Partition=z,typeof require!="undefined"?$=require("sequence").seq:$=this.pazy.seq,G=function(){function a(a){this.s=a}return a.prototype.push=function(b){var c=this;return new a($.conj(b,function(){return c.s}))},a.prototype.first=function(){var a;return(a=this.s)!=null?a.first():void 0},a.prototype.rest=function(){var b;return new a((b=this.s)!=null?b.rest():void 0)},a.prototype.toSeq=function(){return this.s},a}();if(typeof exports=="undefined"||exports===null)exports=(bi=this.pazy)!=null?bi:this.pazy={};exports.Stack=G,typeof require!="undefined"?$=require("sequence").seq:$=this.pazy.seq,B=function(){function b(b,c,d){var e;d?(e=[b,c,d.rest()],this.front=e[0],this.rear=e[1],this.schedule=e[2]):b||c?(this.front=this.schedule=a(b,c,null),this.rear=null):this.front=this.rear=this.schedule=null}var a;return a=function(b,c,d){var e;return e=$.conj(c.first(),function(){return d}),b?$.conj(b.first(),function(){return a(b.rest(),c.rest(),e)}):e},b.prototype.push=function(a){var c=this;return new b(this.front,$.conj(a,function(){return c.rear}),this.schedule)},b.prototype.first=function(){var a;return(a=this.front)!=null?a.first():void 0},b.prototype.rest=function(){var a;return new b((a=this.front)!=null?a.rest():void 0,this.rear,this.schedule)},b.prototype.toSeq=function(){return $.concat(this.front,$.reverse(this.rear))},b}();if(typeof exports=="undefined"||exports===null)exports=(bj=this.pazy)!=null?bj:this.pazy={};exports.Queue=B,typeof require!="undefined"?(L=require("functional").bounce,$=require("sequence").seq):(bk=this.pazy,L=bk.bounce,$=bk.seq),X=typeof module!="undefined"&&module!==null&&!module.parent,T=X?function(a){return console.log(a)}:function(a){},c=X?4:$.from(1).map(function(a){return 2*a}).takeWhile(function(a){var b;return b=Math.pow(10,a),2*b-2!==2*b-1&&-2*b+2!==-2*b+1}).last(),b=Math.pow(10,c),n=Math.sqrt(b),J=function(a){return Math.abs(a)<b?new e(a):w.fromNative(a)},W=function(a){a==null&&(a=0);switch(typeof a){case"number":return W.fromNative(a);case"string":return W.parse(a);default:if(a instanceof x)return a;throw new Error("expected a number, got "+a)}},W.fromNative=function(a){if(a!==Math.floor(a))throw new Error("expected an integer, got "+a);return J(a)},W.parse=function(a){var b,d,f;if(!/^[+-]?\d+$/.test(a))throw new Error("expected an integer literal, got '"+a+"'");return f=function(){switch(a[0]){case"-":return[-1,a.slice(1)];case"+":return[1,a.slice(1)];default:return[1,a]}}(),Y=f[0],b=f[1],b.length<=c?new e(parseInt(a)):(d=function(a){var e;return a>0?(e=Math.max(0,a-c),$.conj(parseInt(b.slice(e,a)),function(){return d(e)})):null},new w(Y,d(b.length)))},x=function(){function q(){}var a,c,d,f,g,h,i,j,k,l,n,o,p;c=function(a){if(a instanceof q)return a;if(typeof a=="number"){if(Math.floor(a)===a)return Math.abs(a)<b?new e(a):w.fromNative(a);throw new Error("expected an integer, got "+a)}throw new Error("expected a number, got "+a)},g=function(a,b){var d,f,g,h,i,j,k;j=[c(a),c(b)],d=j[0],f=j[1],g=function(){switch(d.constructor){case e:switch(f.constructor){case e:return[d,f];case w:return[w.fromNative(d.val),f];case m:return[new m(d,W(1)),f]}break;case w:switch(f.constructor){case e:return[d,w.fromNative(f.val)];case w:return[d,f];case m:return[new m(d,W(1)),f]}break;case m:switch(f.constructor){case e:case w:return[d,new m(f,W(1))];case m:return[d,f]}}}();if(g)return g;throw k=[d.constructor,f.constructor],h=k[0],i=k[1],new Error("operands of types "+h+" and "+i+" not supported")},a=function(a){return a instanceof w&&a.lt(b)?a.digits!=null?new e(a.digits.first()*a.sign):new e(0):a instanceof m&&a.denom.eq(1)?a.numer:a},f=function(a,b){return W[a]=function(){var a;return a=1<=arguments.length?bu.call(arguments,0):[],b.call.apply(b,[W].concat(bu.call(a)))},q.prototype[a]=function(){var b;return b=1<=arguments.length?bu.call(arguments,0):[],W[a].apply(W,[this].concat(bu.call(b)))}},o=["cmp","plus","minus","times","div","idiv","mod","gcd"],h=function(b){var c;return c=""+b+"__",f(b,function(b,d){var e,f,h;return h=g(b,d),e=h[0],f=h[1],a(e[c](f))})};for(j=0,l=o.length;j<l;j++)d=o[j],h(d);q.prototype.div__=function(a){return m.normalized(this,a)},q.prototype.gcd__=function(a){var b,c,d,e;return b=function(a,c){return c.isPos()?function(){return b(c,a.mod(c))}:a},e=[this.abs(),a.abs()],c=e[0],d=e[1],c.gt(d)?L(b(c,d)):L(b(c,d))},f("lt",function(a,b){return W.cmp(a,b)<0}),f("gt",function(a,b){return W.cmp(a,b)>0}),f("eq",function(a,b){return W.cmp(a,b)===0}),f("equals",function(a,b){return W.cmp(a,b)===0}),p=["neg","abs","sgn","isPos","isNeg","isZero","isEven","isOdd"],i=function(a){var b;return b=""+a+"__",f(a,function(a){return c(a)[b]()})};for(k=0,n=p.length;k<n;k++)d=p[k],i(d);return f("isqrt",function(b){return a(c(b).isqrt__())}),f("pow",function(b,d){var e;return e=function(a,b,c){return c.isPos()?c.isOdd()>0?function(){return e(a.times(b),b,c.minus(1))}:function(){return e(a,b.times(b),c.idiv(2))}:a},a(L(e(c(1),c(b),c(d))))}),q}(),e=function(a){function c(a){this.val=a!=null?a:0}return bw(c,a),c.prototype.neg__=function(){return new c(-this.val)},c.prototype.abs__=function(){return new c(Math.abs(this.val))},c.prototype.sgn__=function(){return this.val<0?-1:this.val>0?1:0},c.prototype.isPos__=function(){return this.val>0},c.prototype.isNeg__=function(){return this.val<0},c.prototype.isZero__=function(){return this.val===0},c.prototype.isEven__=function(){return this.val%2===0},c.prototype.isOdd__=function(){return this.val%2!==0},c.prototype.isqrt__=function(){return new c(Math.floor(Math.sqrt(this.val)))},c.prototype.cmp__=function(a){return this.val<a.val?-1:this.val>a.val?1:0},c.prototype.plus__=function(a){return J(this.val+a.val)},c.prototype.minus__=function(a){return J(this.val-a.val)},c.prototype.times__=function(a){var d;return d=this.val*a.val,Math.abs(d)<b?new c(d):w.fromNative(this.val).times(a)},c.prototype.idiv__=function(a){return new c(Math.floor(this.val/a.val))},c.prototype.mod__=function(a){return new c(this.val%a.val)},c.prototype.toString=function(){return""+this.val},c.prototype.toNative=function(){return this.val},c}(x),w=function(a){function u(a,b){var c;this.digits=b,this.sign=this.digits!=null?a:0,this.first=((c=this.digits)!=null?c.first():void 0)||0}var c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t;return bw(u,a),u.prototype.neg__=function(){return new u(-this.sign,this.digits)},u.prototype.abs__=function(){return new u(1,this.digits)},u.prototype.sgn__=function(){return this.sign},u.prototype.isPos__=function(){return this.sign>0},u.prototype.isNeg__=function(){return this.sign<0},u.prototype.isZero__=function(){return this.sign===0},u.prototype.isEven__=function(){return this.first%2===0},u.prototype.isOdd__=function(){return this.first%2!==0},t=b.toString().slice(1),p=function(a){return a?a.map(function(a){return""+t.slice(a.toString().length)+a}).into([]).join("|"):"[]"},h=function(a){return p(a!=null?a.reverse():void 0)},c=$([0]),e=function(a){var b,c;return(a!=null?(b=a.reverse())!=null?(c=b.dropWhile(function(a){return a===0}))!=null?c.reverse():void 0:void 0:void 0)||null},k=function(a){var b,c;return b=a.size(),c=function(b){var e;return e=$(i(d(b,i(a,b)),$([2]))),f(b,e)?function(){return c(e)}:e},L(c(a.take(b>>1)))},u.prototype.isqrt__=function(){if(this.isZero())return J(0);if(this.isPos())return new u(1,k(this.digits));throw new Error("expected a non-negative number, got "+this)},f=function(a,b){var c,d,e;return((c=$.sub(a,b))!=null?(d=c.reverse())!=null?(e=d.dropWhile(function(a){return a===0}))!=null?e.first():void 0:void 0:void 0)||0},u.prototype.cmp__=function(a){return this.isZero()?-a.sign:a.isZero()?this.sign:this.sign!==a.sign?this.sign:this.sign*f(this.digits,a.digits)},d=function(a,e,f){var g,h,i,j,k,l,m;return f==null&&(f=0),f||a&&e?(l=[a||c,e||c],i=l[0],j=l[1],k=i.first()+j.first()+f,m=k>=b?[k-b,1]:[k,0],h=m[0],g=m[1],$.conj(h,function(){return d(i.rest(),j.rest(),g)})):e||a},u.prototype.plus__=function(a){return this.sign!==a.sign?this.minus(a.neg()):new u(this.sign,d(this.digits,a.digits))},s=function(a,d){var f;return f=function(a,d,e){var g,h,i,j,k,l,m;return e==null&&(e=0),e||a&&d?(l=[a||c,d||c],i=l[0],j=l[1],k=i.first()-j.first()-e,m=k<0?[k+b,1]:[k,0],h=m[0],g=m[1],$.conj(h,function(){return f(i.rest(),j.rest(),g)})):d||a},e(f(a,d))},u.prototype.minus__=function(a){return this.sign!==a.sign?this.plus(a.neg()):f(this.digits,a.digits)<0?new u(-this.sign,s(a.digits,this.digits)):new u(this.sign,s(this.digits,a.digits))},r=function(a){return[a%n,Math.floor(a/n)]},g=function(a,c){var d,e,f,g,h,i,j,k,l,m,o,p,q;return c<b/a?[a*c,0]:(m=r(a),d=m[0],e=m[1],o=r(c),f=o[0],g=o[1],p=r(d*g+f*e),j=p[0],k=p[1],l=d*f+j*n,q=l<b?[l,0]:[l-b,1],i=q[0],h=q[1],[i,e*g+k+h])},q=function(a,b,d){var e,f,h,i;d==null&&(d=0);if(d||a)return h=a||c,i=g(b,h.first()),f=i[0],e=i[1],$.conj(f+d,function(){return q(h.rest(),b,e)})},o=function(a,b){var e;return e=function(a,b,f){var g;return b?(g=d(a,q(f,b.first()))||c,$.conj(g.first(),function(){return e(g.rest(),b.rest(),f)})):a},e(null,a,b)},u.prototype.times__=function(a){return new u(this.sign*a.sign,o(this.digits,a.digits))},j=function(a,g){var h,j,k,l,m,n,o,p,r;return e(a)?(m=Math.floor(b/(g.last()+1)),p=function(){var b,c,d,e;d=[a,g],e=[];for(b=0,c=d.length;b<c;b++)o=d[b],e.push($(q(o,m)));return e}(),k=p[0],l=p[1],r=[l.size(),l.last()+1],j=r[0],h=r[1],n=function(a,c,g){var k,o;return k=(c!=null?c.size():void 0)<j?0:(o=(c!=null?c.last():void 0)*((c!=null?c.size():void 0)>j?b:1)||0,Math.floor(o/h)||(f(c,l)>=0?1:0)),k?function(){return n(d(a,$.conj(k)),s(c,q(l,k)),g)}:g?function(){return n($.conj(0,function(){return a}),$.conj(g.first(),function(){return c}),g.rest())}:[e(a),c&&i(c,$([m]))]},L(n(null,null,k!=null?k.reverse():void 0))):[c,c]},i=function(a,b){return j(a,b)[0]},m=function(a,b){return j(a,b)[1]},u.prototype.idiv__=function(a){var b;return b=f(this.digits,a.digits),b<0?J(0):b===0?J(this.sign*a.sign):new u(this.sign*a.sign,i(this.digits,a.digits))},u.prototype.mod__=function(a){var b;return b=f(this.digits,a.digits),b<0?this:b===0?J(0):new u(this.sign*a.sign,m(this.digits,a.digits))},u.prototype.toString=function(){var a,b,c,d,e,f,g;return a=(d=this.digits)!=null?(e=d.reverse())!=null?(f=e.dropWhile(function(a){return a===0}))!=null?f.map(function(a){return a.toString()}):void 0:void 0:void 0,a?(c=this.isNeg()?"-":"",b=(g=a.rest())!=null?g.map(function(a){return""+t.slice(a.length)+a}):void 0,c+a.first()+(b!=null?b.join(""):"")):"0"},u.prototype.toNative=function(){var a,c,d,e;return c=function(a,d){return d?function(){return c(a*b+d.first(),d.rest())}:a},a=(d=this.digits)!=null?(e=d.reverse())!=null?e.dropWhile(function(a){return a===0}):void 0:void 0,this.sign*L(c(0,a))},l=function(a){return a?$.conj(a%b,function(){return l(Math.floor(a/b))}):null},u.fromNative=function(a){return a<0?new u(-1,l(-a)):a>0?new u(1,l(a)):new u(0,null)},u}(x),m=function(a){function b(a,b){this.numer=a,this.denom=b}return bw(b,a),b.normalized=function(a,c){var d;if(c.eq(0))throw new Error("expected a non-zero denominator, got "+c);return c.lt(0)?b.normalized(a.neg(),c.neg()):(d=W.gcd(a,c),new b(a.idiv(d),c.idiv(d)))},b.prototype.neg__=function(){return new b(this.numer.neg(),this.denom)},b.prototype.abs__=function(){return new b(this.numer.abs(),this.denom)},b.prototype.sgn__=function(){return this.numer.sgn()},b.prototype.inv__=function(){return b.normalized(this.denom,this.numer)},b.prototype.isPos__=function(){return this.numer.isPos()},b.prototype.isNeg__=function(){return this.numer.isNeg()},b.prototype.isZero__=function(){return this.numer.isZero()},b.prototype.isEven__=function(){return this.denom.eq(1)&&this.numer.isEven()},b.prototype.isOdd__=function(){return this.denom.eq(1)&&this.numer.isOdd()},b.prototype.isqrt__=function(){return W.idiv(this.numer,this.denom).isqrt()},b.prototype.cmp__=function(a){return this.minus__(a).numer.cmp(0)},b.prototype.plus__=function(a){var c,d;return c=W.gcd(this.denom,a.denom),Y=W.idiv(a.denom,c),d=W.idiv(this.denom,c),b.normalized(Y.times(this.numer).plus(d.times(a.numer)),Y.times(this.denom))},b.prototype.minus__=function(a){return this.plus__(a.neg__())},b.prototype.times__=function(a){var c,d,e,f;return c=W.gcd(this.numer,a.denom),d=W.gcd(this.denom,a.numer),f=this.numer.idiv(c).times(a.numer.idiv(d)),e=this.denom.idiv(d).times(a.denom.idiv(c)),b.normalized(f,e)},b.prototype.div__=function(a){return this.times__(a.inv__())},b.prototype.toString=function(){return this.denom.eq(1)?""+this.numer:""+this.numer+"/"+this.denom},b.prototype.toNative=function(){return this.numer.toNative()/this.denom.toNative()},b}(x);if(typeof exports=="undefined"||exports===null)exports=(bl=this.pazy)!=null?bl:this.pazy={};exports.num=W,X&&(_=require("testing").show,I=K=M=0,T(""),_(function(){return null}),_(function(){return}),T(""),_(function(){return W(98).gcd(21)}),_(function(){return W(77777).gcd(21)}),T(""),_(function(){return I=W(Math.pow(2,13))}),_(function(){return w.fromNative(I.val)}),_(function(){return I.plus(2)}),_(function(){return I.times(1)}),_(function(){return I.times(2)}),_(function(){return I.plus(2e3)}),T(""),_(function(){return W(-123456789e6)}),_(function(){return W("-1234")}),_(function(){return W("-123456789000000")}),T(""),_(function(){return W(123456789).plus(876543211)}),_(function(){return W(123456789).minus(12345e4)}),_(function(){return W(123456789).minus(123456790)}),_(function(){return W(123456789).minus(123456789)}),_(function(){return W(123456789).plus(-12345e4)}),T(""),_(function(){return W(12345).times(100001)}),_(function(){return W(11111).times(9)}),_(function(){return W(111).idiv(37)}),_(function(){return W(111111).idiv(37)}),_(function(){return W(111111111).idiv(37)}),_(function(){return W(111111111).idiv(12345679)}),_(function(){return W(99980001).idiv(49990001)}),_(function(){return W(20001).idiv(10001)}),T(""),_(function(){return W(111).mod(37)}),_(function(){return W(111112).mod(37)}),_(function(){return W(111111111).mod(12345679)}),T(""),_(function(){return W(9801).isqrt()}),_(function(){return W(998001).isqrt()}),_(function(){return W(99980001).isqrt()}),T(""),_(function(){return W(10).pow(6)}),_(function(){return W(2).pow(16)}),T(""),_(function(){return W.plus(123456789,876543211)}),_(function(){return W.isqrt(99980001)}),_(function(){return W.pow(2,16)}),_(function(){return W.abs(-12345)}),_(function(){return W.isZero(1)}),_(function(){return W.isZero(123456)}),_(function(){return W.isZero(0)}),_(function(){return W.isNeg(0)}),_(function(){return W.isNeg(-45)}),_(function(){return W.isNeg(-12345)}),_(function(){return W.isOdd(-12345)}),T(""),_(function(){return W.eq(8,W(111119).mod(37))}),_(function(){return W.lt(65535,W.pow(2,16))}),_(function(){return W.gt(65535,W.pow(2,16))}),_(function(){return W.gt(65536,W.pow(2,16))}),_(function(){return W.gt(65537,W.pow(2,16))}),T(""),_(function(){return W.div(2,3)}),_(function(){return W.div(9,10).times(W.div(5,21))}),_(function(){return W.div(3,5).minus(W.div(7,11))}),_(function(){return W.div(111111111,24691358)}),_(function(){return W.div(28,3).isqrt()}),_(function(){return W.div(1,2).plus(W.div(1,2))}),_(function(){return W.div(2,3).plus(W.div(4,3))}),_(function(){return W.div(2,3).plus(1)}),_(function(){return W.div(2,3).div(2)}))})).call(this)